
# **1.需求背景**

在公司大促活动期间，系统面临高并发压力，为保障线上系统稳定性，需要临时禁止所有用户使用压测平台（PTS）进行压测活动，包括测试环境和生产环境。

# **2.需求描述**

开发接口支持一键禁用/启用指定用户或所有用户在特定时间内使用PTS平台的压测权限（包括生产环境和预发布环境）。

# **3.解决方案**

通过修改用户的压测执行权限，在指定时间段内限制压测活动的进行。具体实现针对两个平台采用不同的技术手段：**-** PTS平台：利用阿里云RAM权限策略管理

# 4.pts 压测链路

### 4.1 产线环境

#### 4.1.1 Global

用户 --> DNS --> cloudflare(WAF) --> ALB --> DataDome  --> Kong --> 业务 Pod


#### 4.1.2 CN

用户 --> DNS --> DCND(WAF) --> ALB|NLB --> Kong --> 业务 Pod


### 4.2 测试环境

#### 4.2.1 Global

用户 --> ALB|NLB --> Kong --> 业务 Pod
